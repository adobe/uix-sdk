## API Report File for "@adobe/uix-host"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { CrossRealmObject } from '@adobe/uix-core';
import type { Emits } from '@adobe/uix-core';
import { Emitter } from '@adobe/uix-core';
import type { Extension } from '@adobe/uix-core';
import type { GuestApis } from '@adobe/uix-core';
import type { GuestConnection } from '@adobe/uix-core';
import type { GuestConnectionEvents } from '@adobe/uix-core';
import type { GuestEmitter } from '@adobe/uix-core';
import { HTMLAttributeReferrerPolicy } from 'react';
import type { NamedEvent } from '@adobe/uix-core';
import type { RemoteHostApis } from '@adobe/uix-core';

// @internal
export type AttrTokens<T> = string | T[];

// @public
export type CapabilitySpec<T extends GuestApis> = {
    [Name in keyof T]: (keyof T[Name])[];
};

// @public
export function combineExtensionsFromProviders(...providers: Array<ExtensionsProvider>): ExtensionsProvider;

// @public
export function createExtensionRegistryProvider(config: ExtensionRegistryConfig): ExtensionsProvider;

// @public (undocumented)
export interface ExtensionRegistryConfig extends ExtensionRegistryExtensionRegistration, ExtensionRegistryConnection {
}

// @public (undocumented)
export interface ExtensionRegistryConnection {
    // (undocumented)
    apiKey: string;
    // (undocumented)
    auth: {
        schema: "Basic" | "Bearer";
        imsToken: string;
    };
    // (undocumented)
    baseUrl?: string;
}

// @public (undocumented)
export interface ExtensionRegistryEndpointRegistration {
    // (undocumented)
    extensionPoint: string;
    // (undocumented)
    service: string;
    // (undocumented)
    version: string;
}

// @public (undocumented)
export interface ExtensionRegistryExtensionRegistration extends ExtensionRegistryEndpointRegistration {
    // (undocumented)
    imsOrg: string;
}

// @public (undocumented)
export type ExtensionsProvider = () => Promise<InstalledExtensions>;

// @public
export class Host extends Emitter<HostEvents> {
    constructor(config: HostConfig);
    // @eventProperty
    contextchange: HostEventContextChange;
    // @eventProperty
    error: HostEventError;
    getLoadedGuests<T = unknown>(): Port<T>[];
    // Warning: (ae-forgotten-export) The symbol "GuestFilter" needs to be exported by the entry point index.d.ts
    getLoadedGuests<T = unknown>(filter: GuestFilter): Port<T>[];
    getLoadedGuests<Apis extends GuestApis>(capabilities: CapabilitySpec<Apis>): Port<GuestApis>[];
    // @eventProperty
    guestbeforeload: HostGuestEvent<"beforeload">;
    // @eventProperty
    guestbeforeunload: HostGuestEvent<"beforeunload">;
    // Warning: (ae-forgotten-export) The symbol "HostGuestEvent" needs to be exported by the entry point index.d.ts
    //
    // @eventProperty
    guestload: HostGuestEvent<"load">;
    guests: PortMap;
    // @eventProperty
    guestunload: HostGuestEvent<"unload">;
    hostName: string;
    load(extensions: InstalledExtensions, options?: PortOptions): Promise<void>;
    // @eventProperty
    loadallguests: HostEventLoadAllGuests;
    loading: boolean;
    shareContext(context: SharedContextValues): void;
    shareContext(setter: (context: SharedContextValues) => SharedContextValues): void;
    // (undocumented)
    shareContext(setter: (context: SharedContextValues) => SharedContextValues): void;
    unload(): Promise<void>;
}

// @public (undocumented)
export interface HostConfig {
    debug?: boolean;
    guestOptions?: PortOptions;
    hostName: string;
    runtimeContainer?: HTMLElement;
    sharedContext?: SharedContextValues;
}

// @public (undocumented)
export type HostEvent<Type extends string = string, Detail = Record<string, unknown>> = NamedEvent<Type, Detail & Record<string, unknown> & {
    host: Host;
}>;

// @public
export type HostEventContextChange = HostEvent<"contextchange", {
    context: SharedContextValues;
}>;

// @public
export type HostEventError = HostEvent<"error", {
    error: Error;
}>;

// @public
export type HostEventLoadAllGuests = HostEvent<"loadallguests", {
    failed: Port[];
    loaded: Port[];
}>;

// @public (undocumented)
export type HostEvents = HostGuestEvent<"beforeload"> | HostGuestEvent<"load"> | HostEvent<"beforeunload"> | HostEvent<"unload"> | HostEventLoadAllGuests | HostEventContextChange | HostEventError;

// @public (undocumented)
export type InstalledExtensions = Record<Extension["id"], Extension["url"]>;

// @internal
export const makeSandboxAttrs: (...sandboxes: AttrTokens<SandboxToken>[]) => ("allow-presentation" | "allow-same-origin" | "allow-downloads" | "allow-orientation-lock" | "allow-pointer-lock" | "allow-popups" | "allow-scripts" | "allow-storage-access-by-user-activation" | "allow-top-navigation-by-user-activation")[];

// @internal
export const mergeAttrValues: <T>(...tokenLists: AttrTokens<T>[]) => T[];

// @public
export function mutedProvider(provider: ExtensionsProvider): ExtensionsProvider;

// @internal
export const normalizeIframe: (iframe: HTMLIFrameElement) => void;

// @public
export class Port<GuestApi = unknown> extends Emitter<GuestConnectionEvents> implements GuestConnection {
    constructor(config: {
        owner: string;
        id: string;
        url: URL;
        runtimeContainer: HTMLElement;
        options: PortOptions;
        logger?: Console;
        sharedContext: Record<string, unknown>;
        events: Emits;
    });
    // (undocumented)
    get apis(): {
        [x: string]: {};
    };
    attachUI<T = unknown>(iframe: HTMLIFrameElement): Promise<CrossRealmObject<T>>;
    error?: Error;
    hasCapabilities(requiredCapabilities: CapabilitySpec<GuestApis>): boolean;
    isReady(): boolean;
    load(): Promise<void>;
    provide(apis: RemoteHostApis): void;
    unload(): Promise<void>;
    url: URL;
}

// @public
export type PortMap = Map<string, Port>;

// @public (undocumented)
export type PortOptions = {
    timeout?: number;
    debug?: boolean;
};

// @internal
export const requiredIframeProps: {
    "data-uix-guest": string;
    role: string;
    referrerPolicy: HTMLAttributeReferrerPolicy;
};

// Warning: (ae-forgotten-export) The symbol "SandboxPermission" needs to be exported by the entry point index.d.ts
//
// @internal
export type SandboxToken = `allow-${SandboxPermission}`;

// @public
export type SharedContextValues = Record<string, unknown>;

// @internal
export const tokenizeAttrValues: <T>(tokens: AttrTokens<T>) => T[];

```
